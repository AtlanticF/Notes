composer 忽略子包的依赖
---
```json
// composer.json
"replace": {
	"package": "*" // 使用当前包中的依赖代替此包中的依赖（忽略包所有的依赖）
}
```

Runner 的 shell
---
gitlab, github runner 中，ssh 到发布机器后，执行的命令使用的不一定是 `bash shell`，后续的命令可能会导致你在 `~/bashrc` 中设置的环境变量不生效，即使你使用正确的用户登陆

Virtual Box 设置主机虚拟机互通
---
- Host-Only 模式：实现主机和虚拟机网络互通
	- 设置 Virtual Box 配置增加主机网关，增加虚拟机网卡 2 配置，这里相当于给虚拟机增加一个硬件级别的网卡
		- 虚拟机 ifconfig -a 查看刚配置的网卡名称
		- ubuntu20.04 下 /etc/netplan 配置新的网卡信息，包括不限于静态 ip 地址，网关地址，DNS 地址(DNS地址可能会导致无法访问外网)
		- sudo netplan apply 生效
- NAT 模式：实现虚拟机可以通过主机的网络访问外网

PHP 的 file_exsits 返回 false 排查
---
- 文件存在，从符号连接和文件权限入手
- 使用 `is_readable, is_writeable` 函数可判断， php 执行用户对指定文件的权限

PHP 的 fopen
---
- 参数 `w` 打开文件，会 `truncatre` 清空文件内容，所以使用 `w` 参数打开的 resource， seek 到 EOF 是不会有预期追加的效果的。这个特性是操作系统层库函数实现的
- `参数 r` 写入即可

Ubuntu 输入法
---
- 在安装系统时最好就选择好中文，然后 “语言支持” 中选择 fcitx，下载搜狗拼音，安装，重启
- 如果遇到在 ide 中（PHPStorm等）无法使用输入法，重新安装输入法，重启即可

Nginx 对动态 Web Server 转发响应的处理
---
Nginx 使用 fascgi 模块转发 http 请求到 php-fpm 的场景下，Nginx 响应的 http header 头中，不会带有 Content-Length
Http/1.1 下，客户端看到的响应是 chunk 模式的，这一点不确定是 fpm 将原始报文做了处理，还是 Nginx fastcgi 做的处理

PHP 中 trim 中文出现乱码
---
- 被 trim 的字符都需要经过反编码生成 unicode 编号
- trim、rtrim、ltrim 等函数，都是单字节匹配
```c
// 沂市 转换为 unicode 编号后为
// e6      b2      82  （沂）    e5      b8      82 （市）

printf("%s\n", trim("沂市", "市"));

// 单字节匹配，trim 后 82      e5      b8      82 会被删除
// 剩下 e6      b2 编码后就是 ?
```

Shell 命令行批量的操作
---

```shell
rm {1..30}.log
```


PHPStorm
---
- PHPStrom 的 debug 模式下运行代码，在 shell 中设置的环境变量未生效。进入右上角 `debug configure` -> `Commond Line.Enviroenment variables` -> `点击右侧浏览` -> 	`查看当前 debug shell 中生效的环境变量`。如果没有包含新增的环境变量，重启 PHPStrom 后生效

Split 命令
---
- split -l 1000000 $file_name $file_prefix

IDEA 下，Spring boot 配置文件不生效
--
在 IDEA 中，Spring boot 项目，如果配置文件为，application.properties，有可能会导致配置不生效的问题。选中 resources -> Mark Directory as -> Resouces 解决